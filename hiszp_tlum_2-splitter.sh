#!/bin/bash

# https://www.shell-tips.com/bash/loops/

function split_chapter
{
  local CH=$1
  local -n CUT=$2

  printf -v CHSTR "%02d" $CH

  FILE=0$((CH+35))\ Unidad\ ${CH}\ ES\ VER_LANG.mp3

  for ((i=1 ; i<${#CUT[@]} ; ++i))
  do
    printf -v ISTR "%02d" $i
    ffmpeg -n -ss ${CUT[$((i-1))]} -to ${CUT[$i]} -i "$FILE" -c copy r${CHSTR}_w${ISTR}.mp3
  done
}
TIMES=(
00:00:05.7
00:00:12.7
00:00:19.6
00:00:26.7
00:00:29.9
00:00:37.1
00:00:42.5
00:00:49.9
00:00:56.9
00:01:02.7
00:01:07.5
00:01:17.3
00:01:26.5
00:01:33.3
00:01:39.3
00:01:45.4
00:01:54.8
00:02:03.1
00:02:06.1
00:02:12.1
00:02:18.8
00:02:32.8
00:02:41
00:02:51.8
00:02:58.7
00:03:06.8
00:03:14.6
00:03:22.1
00:03:29.5
00:03:38.8
00:03:47.2
00:03:56.1
00:04:03.8
00:04:09.3
00:04:15.4
00:04:23
00:04:29.9
)

split_chapter 1 TIMES
